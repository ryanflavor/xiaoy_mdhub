# Market Data Hub API Environment Configuration

# ===================================================================
# Application Configuration
# ===================================================================
ENVIRONMENT=development
LOG_LEVEL=INFO
API_HOST=0.0.0.0
API_PORT=8000

# ===================================================================
# CTP Gateway Configuration
# ===================================================================
# Enable CTP gateway
ENABLE_CTP_GATEWAY=true

# Development Mode - Use mock data (recommended)
ENABLE_CTP_MOCK=false

# Gateway Debug Mode - 控制详细日志输出
GATEWAY_DEBUG_MODE=false

# Logging Optimization - 减少启动时信息刷屏
VNPY_LOG_LEVEL=WARNING
SYSTEM_LOG_LEVEL=ERROR
GATEWAY_VERBOSE_LOGGING=false

# ===================================================================
# ZeroMQ Publisher Configuration
# ===================================================================
# Enable ZeroMQ publisher
ENABLE_ZMQ_PUBLISHER=true

# ZMQ publisher settings
ZMQ_PUBLISHER_PORT=5555
ZMQ_BIND_ADDRESS=tcp://*
ZMQ_QUEUE_SIZE=1000

# ===================================================================
# Database Configuration (Story 2.1)
# ===================================================================
# Enable/disable database features
ENABLE_DATABASE=true

# Database Connection URL
# For SQLite (development):
DATABASE_URL=sqlite:///./mdhub.db

# For MySQL (production):
# DATABASE_URL=mysql://username:password@localhost:3306/mdhub

# For PostgreSQL (alternative):
# DATABASE_URL=postgresql://username:password@localhost:5432/mdhub

# Database Connection Pool Settings (MySQL/PostgreSQL only)
DATABASE_POOL_SIZE=5
DATABASE_POOL_RECYCLE=3600

# Database Logging (set to true for SQL query debugging)
DATABASE_ECHO=false

# Database Connection Retry Settings
DATABASE_RETRY_ATTEMPTS=3
DATABASE_RETRY_DELAY=1
DATABASE_RETRY_BACKOFF_FACTOR=2

# ===================================================================
# Health Monitoring Configuration (Story 3.1)
# ===================================================================
# Health check intervals and timeouts
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_SECONDS=10
CANARY_HEARTBEAT_TIMEOUT_SECONDS=60

# CTP canary contracts (high-liquidity iron ore futures)
CTP_CANARY_CONTRACTS=rb2601,au2512
CTP_CANARY_PRIMARY=rb2601

# SOPT canary contracts  
SOPT_CANARY_CONTRACTS=rb2601,au2512
SOPT_CANARY_PRIMARY=rb2601

# Fallback behavior
HEALTH_CHECK_FALLBACK_MODE=connection_only  # Options: connection_only, skip_canary

# ===================================================================
# Future Configuration (for later stories)
# ===================================================================
# REDIS_URL=redis://localhost:6379/0